# 3주차 1강_React State

## 설명

### React state란?

state는 뷰에 랜더링되어야 하는 컴포넌트의 데이터를 저장하는데 사용되는 js 객체이다.

#### prop vs state

prop와 state는 렌더링 결과에 영향을 주는 정보를 담은 js 객체입니다. prop는 함수의 매개변수와 같이 컴포넌트에 전달되는 반면 state는 함수 내의 변수와 같이 컴포넌트 안에서 관리됩니다. state는 시간이 지남에 따라 변경되며 setState 함수를 통해 정보가 업데이트 됩니다. prop는 상위 컴포넌트에서 하위 컴포넌트로 전달될 때 한 번 설정되면 다시 변경되지 않습니다.

state는 일관성과 효율을 위하여 DRY 원칙을 따르는 SSOT를 만듭니다.

#### DRY 원칙: Don't repeat yourself

DRY 원칙은 중복된 정보를 여러 번 작성하지 않는다는 소프트웨어 개발 원칙입니다. DRY 원칙을 따르면 단순하고 가독성 있는 코드를 작성할 수 있습니다. 또한 수정이 있을 경우 한 군데만 수정하면 모두에 반영이 되기에 유지 보수가 원활해지고 버그 가능성도 줄어듭니다.

#### SSOT(Single Source of Truth)

SSOT란 비즈니스에 관한 모든 데이터를 한 공간에 저장하고 관리하는 것을 말합니다. 이를 통해 언제나 모든 구성원에게 투명하게 데이터가 공유될 수 있고, 모두가 동일한 정보를 얻을 수 있는 환경이 구축됩니다. 이는 단순히 정보가 한 공간에 모여있음을 의미하는 것이 아니라, 지속적으로 데이터가 최신화되고 관리되고 있다는 의미까지 포함합니다. 

#### state의 조건

state가 너무 많으면 오히려 복잡한 코드가 되기 쉽습니다. 따라서 적절한 곳에 사용이 되어야 합니다. state가 되기 위해서는 아래 3가지 조건을 충족해야 합니다.

1. state는 변경되는 정보를 담아야 합니다. state는 데이터의 변경을 update하고 rendering하기 위한 객체입니다. 따라서 변경되지 않는 것은 state로 둘 필요가 없습니다.
2. 부모 컴포넌트가 props 통해 전달해야 한다면 이는 state로 사용하기 적합하지 않습니다. 이는 props 상태로 바로 사용되면 됩니다.
3. 다른 state나 props를 이용해 계산이 가능하다면 이는 state가 아니라 단순 변수의 값으로 할당하여 사용되는 것이 더 적합합니다.

#### useState

state는 useState 함수를 통해 변수 생성 및 초기화, set 함수 생성이 이루어집니다.
`const [number, setNumber] = useState(0);`

#### 1급 객체(first-class object)란?

1급 객체란 다른 객체들 적용 가능한 연산을 모두 지원하는 객체로, 변수에 할당이 가능하고 매개변수로 넘길 수 있으며 return을 할 수 있는 객체를 의미합니다. 일반적인 언어에서의 string, number, boolean 등이 이에 해당됩니다. 함수형 언어인 js에서는 함수 또한 3가지 조건을 모두 충족하기에 1급 객체입니다. 따라서 js 기반인 React에서 state와 setState 함수는 모두 1급 객체입니다.

#### Lifting State Up

함수형 언어의 특성으로 state와 setState는 변수에 할당되어 매개변수로 전달될 수 있고, return 될 수 있습니다. 이러한 특성은 여러 컴포넌트에서 동일한 state와 setState를 활용할 경우 우리가 DRY를 충족하는 SSOT를 만들 수 있도록 합니다. 여러 컴포넌트에서 동일하게 사용되는 state가 있는 경우, `const [number, setNumber] = useState(0);`를 컴포넌트들이 모이는 가장 상위 컴포넌트에 선언 후 하위 컴포넌트에 전달합니다. 그리고 세부 동작은 하위 컴포넌트에서 상세함으로써 한 곳에 정보가 모여있고, 중복이 없도록 개발을 할 수 있습니다.

## 강의를 들으면서 든 생각

jquery만을 사용하고 있던 입장에서 왜 사람들이 react를 사용하는지 이해할 수 있는 시간이었다. 기존에 jquery로 모듈화, 중복 제거 등을 여러 차례 고민해보고 구현하면서 항상 머리가 아프고 불편하다고 생각하고 있었는데, react에서는 이러한 점이 더 개발자 친화적으로 구현할 수 있게 되어있다는 생각을 계속하게 되는 수업이었다.

### 추가로 공부할 것

state, setState가 너무 여러 개가 전달되고 있는 상황에서 이를 한 곳에 모아서 관리할 방법이 없을 지 공부하기(reducer)